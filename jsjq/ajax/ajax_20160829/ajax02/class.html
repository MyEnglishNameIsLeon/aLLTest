<html>
	<head>
		<title>html</title>
		<meta charset="utf-8"/>
	</head>
	<body>
		<form>
			<p>用户名:<input type="text" id="userN"><input type="button" value="验证用户名" onclick="checkN()"></p>
			<p>密码:<input type="text"></p>
			<p>电邮:<input type="text"></p>
			<p><input type="submit" value="用户注册"/></p>
			---------------------------------------------------------------------

			<p>用户名:<input type="text"><input type="button" value="验证用户名"></p>
			<p>密码:<input type="text"></p>
			电邮:<input type="text">
			<p><input type="submit" value="用户注册"/></p>
	   </form>
	</body>
	<script type="javascript/text">
		var openAX=null; 
	//创建AJAX对象
	function get XmlHttps(){
	var xmlhttp=null;
		if(window.ActiveXObject){
			//ie
			xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
		}else
		{
			//hh,gg
			xmlhttp=new XMLHttpRequest();
		}
		return xmlhttp
	}

	
	//检测ajax创建成功不
	function checkN(){
	console.log(111)
		openAX=getXmlHttps();
		var url="requestPagePost.php";
		var datas="username="+$("userN").value;
		
		if(openAX){
			//通过openAX对象发送请求到服务器的某个页面
			//打开请求
			openAX.open("POST",url,true);//get和post方式进行请求  true表示异步机制如果是false表示不使用异步机制  
			//先把处理结果放置好
			openAX.setRequestHeader("Content-Type","application/x-www-form-urlencoded")
			openAX.onreadystatechange=deal;
			
			//发送请求,如果是get请求则填入null,如果是post的请求就填写实际数据
			openAX.send(datas);//第二个参数是指定url,对某个页面发出ajax请求（本质是http的请求）
		}else{
			console.log("对象创建失败")
		}
	}
	
	//回调函数(记载结果)
	function deal(){
	  //我要取出
	  if(openAX.readyState==4){
		//取出value 三种格式text,json,xml
		<!-- console.log("服务器返回的是:"+openAX.responseText);		 -->
		
		<!--打印xml  将得到一个dom对象-->
		console.log(openAX.responseXML)
		<!--dom的编程思路一个是针对html一个是xhtml 
		-->
			//01对xml的处理
			//02先获取到xhtml然后进行xml的解析
			var mes=openAX.responseXML.getElementsByTagName("mes");
			var s  =mes[0].childNodes[0].nodeValue;
			
			
		}
	}
	//获取对象
	function $(id){
		return document.getElementById(id);
	}
	</script>
</html>